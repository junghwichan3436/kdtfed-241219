exports.id=519,exports.ids=[519],exports.modules={4009:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});let i=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\EZEN\\\\Downloads\\\\one-bite-books-ui-01-class\\\\one-bite-books-ui-01-class\\\\src\\\\components\\\\review-item-delete-button.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\EZEN\\Downloads\\one-bite-books-ui-01-class\\one-bite-books-ui-01-class\\src\\components\\review-item-delete-button.tsx","default")},4906:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,4536,23))},11497:e=>{e.exports={container:"page_container__g_P0w",cover_img_container:"page_cover_img_container__0SoG_",title:"page_title___kx4P",subTitle:"page_subTitle__EvDNn",author:"page_author___m3Mr",description:"page_description__TNGjd"}},17016:(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var i=r(60687),o=r(43210),s=r(6475);let n=(0,s.createServerReference)("7fe79ed264da86e046344a7c315e015c36699c26b9",s.callServer,void 0,s.findSourceMapURL,"createReviewAction");var a=r(85997),l=r.n(a);let c=({bookId:e})=>{let[t,r,s]=(0,o.useActionState)(n,null);return(0,o.useEffect)(()=>{t&&!t.status&&alert(t.error)},[t]),(0,i.jsx)("section",{children:(0,i.jsxs)("form",{className:l().form_container,action:r,children:[(0,i.jsx)("input",{type:"text",name:"bookId",value:e,hidden:!0,readOnly:!0}),(0,i.jsx)("textarea",{disabled:s,name:"content",placeholder:"리뷰내용",required:!0}),(0,i.jsxs)("div",{className:l().submit_container,children:[(0,i.jsx)("input",{disabled:s,type:"text",name:"author",placeholder:"작성자",required:!0}),(0,i.jsx)("input",{disabled:s,type:"submit",value:s?"...":"작성하기"})]})]})})}},37576:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});let i=()=>null},41559:e=>{e.exports={container:"review-item_container___wL90",author:"review-item_author__yXM8c",content:"review-item_content__0Bhq5",bottom_container:"review-item_bottom_container__GQpbr",delete_btn:"review-item_delete_btn__pMgSx"}},41996:(e,t,r)=>{"use strict";r.r(t),r.d(t,{"7fe6e6a04b9d2060f02d99ee6e7e4116207a46aa15":()=>l,"7fe79ed264da86e046344a7c315e015c36699c26b9":()=>a});var i=r(91199);r(42087);var o=r(7944);let s=async e=>new Promise(t=>{setTimeout(()=>{t("")},e)});var n=r(33331);let a=async(e,t)=>{let r=t.get("bookId")?.toString(),i=t.get("content")?.toString(),n=t.get("author")?.toString();if(!r||!n||!i)return{status:!1,error:"리뷰 내용과 작성자를 입력해주세요"};try{await s(2e3);let e=await fetch("http://localhost:12345/review",{method:"POST",body:JSON.stringify({bookId:r,content:i,author:n})});if(!e.ok)throw Error(e.statusText);return(0,o.revalidateTag)(`review-${r}`),{status:!0,error:""}}catch(e){return console.error(e),{status:!1,error:`리뷰 저장에 실패했습니다 : ${e}`}}};(0,n.D)([a]),(0,i.A)(a,"7fe79ed264da86e046344a7c315e015c36699c26b9",null);let l=async(e,t)=>{let r=t.get("reviewId")?.toString(),i=t.get("reviewId")?.toString();if(!r)return{status:!1,error:"삭제할 리뷰가 없습니다."};try{let e=await fetch(`http://localhost:12345/review/${r}`,{method:"DELETE"});if(!e.ok)throw Error(e.statusText);return(0,o.revalidateTag)(`review-${i}`),{status:!0,error:""}}catch(e){return{status:!1,error:`리뷰 삭제에 실패했습니다 : ${e}`}}};(0,n.D)([l]),(0,i.A)(l,"7fe6e6a04b9d2060f02d99ee6e7e4116207a46aa15",null)},50194:e=>{e.exports={container:"layout_container__Tovb9"}},54413:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var i=r(37413);let o=()=>(0,i.jsx)("div",{children:"404 : NotFound"})},57323:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x,generateMetadata:()=>f,generateStaticParams:()=>b});var i=r(37413),o=r(39916),s=r(11497),n=r.n(s),a=r(4009),l=r(41559),c=r.n(l);let d=({id:e,content:t,author:r,createdAt:o,bookId:s})=>(0,i.jsxs)("div",{className:c().container,children:[(0,i.jsx)("div",{className:c().author,children:r}),(0,i.jsx)("div",{className:c().content,children:t}),(0,i.jsxs)("div",{className:c().bottom_container,children:[(0,i.jsx)("div",{className:c().date,children:new Date(o).toLocaleString()}),(0,i.jsx)("div",{className:c().delete_btn,children:(0,i.jsx)(a.default,{reviewId:e,bookId:s})})]})]});var u=r(94414),h=r(53384);let v=async({bookId:e})=>{let t=await fetch(`http://localhost:12345/book/${e}`,{cache:"force-cache"});if(!t.ok)return 404===t.status&&(0,o.notFound)(),(0,i.jsx)("div",{children:"오류가 발생하였습니다..."});let{title:r,subTitle:s,description:a,author:l,publisher:c,coverImgUrl:d}=await t.json();return(0,i.jsxs)("section",{children:[(0,i.jsx)("div",{className:n().cover_img_container,style:{backgroundImage:`url("${d}")`},children:(0,i.jsx)(h.default,{src:d,width:240,height:300,alt:`도서 ${r}의 표지 이미지`})}),(0,i.jsx)("div",{className:n().title,children:r}),(0,i.jsx)("div",{className:n().subTitle,children:s}),(0,i.jsxs)("div",{className:n().author,children:[l," | ",c]}),(0,i.jsx)("div",{className:n().description,children:a})]})},m=async({bookId:e})=>{let t=await fetch(`http://localhost:12345/review/book/${e}`,{next:{tags:[`review-${e}`]}});if(!t.ok)throw Error(`Review fetch failed : ${t.statusText}`);let r=await t.json();return(0,i.jsx)("section",{children:r.map(e=>(0,i.jsx)(d,{...e},`review-item-${e.id}`))})},b=()=>[{id:"1"},{id:"2"},{id:"3"}],f=async({params:e})=>{let{id:t}=await e,r=await fetch(`http://localhost:12345/book/${t}`,{cache:"force-cache"});if(!r.ok)throw Error(r.statusText);let i=await r.json();return{title:`${i.title} : 한입북스 검색`,description:`${i.description}의 검색결과 입니다`,openGraph:{title:`${i.title} : 한입북스 검색`,description:`${i.description}의 검색결과 입니다`,images:[i.coverImgUrl]}}},x=async({params:e})=>(0,i.jsxs)("div",{className:n().container,children:[(0,i.jsx)(v,{bookId:(await e).id}),(0,i.jsx)(u.default,{bookId:(await e).id}),(0,i.jsx)(m,{bookId:(await e).id})]})},61135:()=>{},67954:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,85814,23))},69665:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,16444,23)),Promise.resolve().then(r.t.bind(r,16042,23)),Promise.resolve().then(r.t.bind(r,88170,23)),Promise.resolve().then(r.t.bind(r,49477,23)),Promise.resolve().then(r.t.bind(r,29345,23)),Promise.resolve().then(r.t.bind(r,12089,23)),Promise.resolve().then(r.t.bind(r,46577,23)),Promise.resolve().then(r.t.bind(r,31307,23))},70440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var i=r(31658);let o=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,i.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},78335:()=>{},82817:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,86346,23)),Promise.resolve().then(r.t.bind(r,27924,23)),Promise.resolve().then(r.t.bind(r,35656,23)),Promise.resolve().then(r.t.bind(r,40099,23)),Promise.resolve().then(r.t.bind(r,38243,23)),Promise.resolve().then(r.t.bind(r,28827,23)),Promise.resolve().then(r.t.bind(r,62763,23)),Promise.resolve().then(r.t.bind(r,97173,23))},85997:e=>{e.exports={form_container:"review-editor_form_container__qriIn",submit_container:"review-editor_submit_container__krfNZ"}},93341:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var i=r(60687),o=r(43210),s=r(6475);let n=(0,s.createServerReference)("7fe6e6a04b9d2060f02d99ee6e7e4116207a46aa15",s.callServer,void 0,s.findSourceMapURL,"deleteReviewAction"),a=({reviewId:e,bookId:t})=>{let r=(0,o.useRef)(null),[s,a,l]=(0,o.useActionState)(n,null);return(0,o.useEffect)(()=>{s&&!s.status&&alert(s.error)},[s]),(0,i.jsxs)("form",{ref:r,action:a,children:[(0,i.jsx)("input",{type:"text",name:"reviewId",value:e,hidden:!0,readOnly:!0}),(0,i.jsx)("input",{type:"text",name:"bookId",value:t,hidden:!0,readOnly:!0}),l?(0,i.jsx)("div",{children:"..."}):(0,i.jsx)("div",{onClick:()=>r.current?.requestSubmit(),children:"삭제하기"})]})}},94414:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});let i=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\EZEN\\\\Downloads\\\\one-bite-books-ui-01-class\\\\one-bite-books-ui-01-class\\\\src\\\\components\\\\review-editor.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\EZEN\\Downloads\\one-bite-books-ui-01-class\\one-bite-books-ui-01-class\\src\\components\\review-editor.tsx","default")},94431:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var i=r(37413);r(61120);var o=r(4536),s=r.n(o);r(61135);var n=r(50194),a=r.n(n);let l=async()=>{let e=await fetch("http://localhost:12345/book",{cache:"force-cache"});if(!e.ok)return(0,i.jsx)("footer",{children:"제작 @David"});let t=(await e.json()).length;return(0,i.jsxs)("footer",{children:[(0,i.jsx)("div",{children:"제작 @David"}),(0,i.jsxs)("div",{children:[t,"개의 도서가 등록되어 있습니다."]})]})},c=({children:e,modal:t})=>(0,i.jsx)("html",{lang:"ko",children:(0,i.jsxs)("body",{children:[(0,i.jsxs)("div",{className:a().container,children:[(0,i.jsx)("header",{children:(0,i.jsx)(s(),{href:"/",children:"\uD83D\uDCDA ONEBITE BOOKS"})}),(0,i.jsx)("main",{children:e}),(0,i.jsx)(l,{})]}),t,(0,i.jsx)("div",{id:"modal-root"})]})})},96487:()=>{}};